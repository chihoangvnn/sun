# ==============================================================================
# ENVIRONMENT VARIABLES FOR VPS DEPLOYMENT
# ==============================================================================
#
# IMPORTANT DEPLOYMENT NOTES:
# 
# 1. Copy this file to .env and fill in your actual values
# 2. NEVER commit .env to version control - it contains sensitive credentials
# 3. All values marked as REQUIRED must be set for production deployment
# 4. Generate secure random strings for all SECRET values (min 32 characters)
# 5. Use a proper secret management service for production (e.g., AWS Secrets Manager)
# 6. For VPS deployment, ensure all services (Redis, PostgreSQL) are accessible
# 7. Update CORS allowed origins to match your production domains
#
# ==============================================================================

# ==============================================================================
# SERVER CONFIGURATION
# ==============================================================================

# Environment mode (development, production)
# REQUIRED for production
NODE_ENV=production

# Server port - MUST be 5000 for Replit (firewall rules)
# For VPS deployment, can be any available port
PORT=5000

# CORS allowed origins (comma-separated)
# Add all your frontend domains that need to access the API
ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com,https://mobile.yourdomain.com

# Replit-specific domain (if deploying on Replit)
REPLIT_DOMAIN=your-repl-name.username.repl.co
REPLIT_DEV_DOMAIN=your-repl-name.username.repl.dev
REPL_URL=https://your-repl-name.username.repl.co

# ==============================================================================
# DATABASE CONFIGURATION (PostgreSQL/Neon)
# ==============================================================================

# Full database connection URL (REQUIRED)
# Format: postgresql://username:password@host:port/database
DATABASE_URL=postgresql://username:password@localhost:5432/ecommerce_admin

# Individual PostgreSQL connection parameters (usually included in DATABASE_URL)
PGHOST=localhost
PGPORT=5432
PGUSER=postgres
PGPASSWORD=your_secure_password
PGDATABASE=ecommerce_admin

# ==============================================================================
# SECURITY & AUTHENTICATION
# ==============================================================================

# Session secret for express-session (REQUIRED - min 32 chars)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
SESSION_SECRET=your-random-secret-key-minimum-32-characters-change-this

# Encryption key for sensitive data (REQUIRED for Shopee/payment tokens)
# Used to encrypt/decrypt OAuth tokens and payment credentials
ENCRYPTION_KEY=your-encryption-key-minimum-32-characters-change-this

# ==============================================================================
# WORKER SYSTEM (Distributed Job Queue)
# ==============================================================================

# JWT secret for worker authentication (REQUIRED in production)
WORKER_JWT_SECRET=your-worker-jwt-secret-change-in-production

# Pre-shared secret for worker registration (REQUIRED)
WORKER_REGISTRATION_SECRET=your-worker-registration-secret-change-in-production

# Secret for signing job dispatch requests (REQUIRED in production)
WORKER_DISPATCH_SECRET=your-worker-dispatch-secret-change-in-production

# ==============================================================================
# REDIS / QUEUE MANAGEMENT
# ==============================================================================

# Redis connection URL for distributed job queue (REQUIRED for background jobs)
# Use either REDIS_URL or UPSTASH_REDIS_URL
REDIS_URL=redis://localhost:6379
# UPSTASH_REDIS_URL=rediss://:password@upstash-redis-endpoint:6379

# ==============================================================================
# FACEBOOK INTEGRATION
# ==============================================================================

# Facebook App credentials for OAuth and Graph API
FACEBOOK_APP_ID=your_facebook_app_id
FACEBOOK_APP_SECRET=your_facebook_app_secret

# Long-lived access token for Facebook API (optional)
FACEBOOK_ACCESS_TOKEN=your_facebook_access_token

# Facebook webhook verification token
FACEBOOK_VERIFY_TOKEN=your_webhook_verify_token

# Facebook OAuth redirect URI
FACEBOOK_REDIRECT_URI=https://yourdomain.com/auth/facebook/callback

# ==============================================================================
# TIKTOK INTEGRATION
# ==============================================================================

# TikTok Business API credentials
TIKTOK_CLIENT_ID=your_tiktok_client_id
TIKTOK_APP_ID=your_tiktok_app_id
TIKTOK_CLIENT_SECRET=your_tiktok_client_secret
TIKTOK_APP_SECRET=your_tiktok_app_secret

# TikTok OAuth redirect URIs
TIKTOK_REDIRECT_URI=https://yourdomain.com/auth/tiktok-business/callback
TIKTOK_SHOP_REDIRECT_URI=https://yourdomain.com/auth/tiktok-shop/callback

# ==============================================================================
# SHOPEE INTEGRATION
# ==============================================================================

# Shopee Partner API credentials
SHOPEE_PARTNER_ID=your_shopee_partner_id
SHOPEE_PARTNER_KEY=your_shopee_partner_key

# ==============================================================================
# REPLIT OAUTH (Optional - for Replit Auth integration)
# ==============================================================================

# Replit OAuth credentials
REPLIT_APP_ID=your_replit_app_id
REPLIT_APP_SECRET=your_replit_app_secret
REPLIT_REDIRECT_URI=https://yourdomain.com/auth/replit/callback

# Replit authentication token for replitmail service
WEB_REPL_RENEWAL=your_replit_renewal_token

# ==============================================================================
# FIREBASE CONFIGURATION (Optional)
# ==============================================================================

# Firebase project credentials (used for some features)
FIREBASE_API_KEY=your_firebase_api_key
FIREBASE_AUTH_DOMAIN=your-project.firebaseapp.com
FIREBASE_PROJECT_ID=your-project-id
FIREBASE_STORAGE_BUCKET=your-project.appspot.com
FIREBASE_MESSAGING_SENDER_ID=your_sender_id
FIREBASE_APP_ID=your_app_id
FIREBASE_MEASUREMENT_ID=G-XXXXXXXXXX

# Enable Firebase emulator for local development
USE_FIREBASE_EMULATOR=false

# ==============================================================================
# AI & BOT SERVICES
# ==============================================================================

# RASA Bot API authentication key (REQUIRED for chatbot features)
BOT_API_KEY=your_rasa_bot_api_key

# Google Gemini API for AI content generation
GEMINI_API_KEY=your_gemini_api_key

# ==============================================================================
# COMMUNICATION SERVICES
# ==============================================================================

# Twilio SMS service credentials
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=+1234567890

# SendGrid email service API key
SENDGRID_API_KEY=your_sendgrid_api_key

# ==============================================================================
# MEDIA & STORAGE
# ==============================================================================

# Cloudinary media storage credentials (REQUIRED for image/video uploads)
CLOUDINARY_CLOUD_NAME=your_cloudinary_cloud_name
CLOUDINARY_API_KEY=your_cloudinary_api_key
CLOUDINARY_API_SECRET=your_cloudinary_api_secret

# ==============================================================================
# SHIPPING & LOGISTICS
# ==============================================================================

# GHTK (Giao Hàng Tiết Kiệm) shipping API credentials
GHTK_API_KEY=your_ghtk_api_key
GHTK_SHOP_ID=your_ghtk_shop_id

# ==============================================================================
# VIETNAMESE BANKING & PAYMENT (VietQR)
# ==============================================================================

# SHB Bank account information for VietQR payment integration (REQUIRED for payments)
SHB_BANK_ACCOUNT=your_bank_account_number
SHB_ACCOUNT_NAME=Your Full Name In Vietnamese

# ==============================================================================
# NGROK TUNNELING (Development/Testing)
# ==============================================================================

# Ngrok authentication token for creating secure tunnels
NGROK_AUTH_TOKEN=your_ngrok_auth_token

# ==============================================================================
# MOBILE APP CONFIGURATION (Next.js Frontend)
# ==============================================================================

# Public API URL for the mobile app to connect to backend
# This is exposed to the browser, so use your production domain
NEXT_PUBLIC_API_URL=https://api.yourdomain.com

# Alternative backend API URL (if different from main API)
NEXT_PUBLIC_BACKEND_API_URL=https://api.yourdomain.com

# Full site URL for SEO and social sharing
NEXT_PUBLIC_SITE_URL=https://yourdomain.com

# Base URL for OAuth callbacks
NEXT_PUBLIC_BASE_URL=https://yourdomain.com

# Frontend identifier for multi-tenant setup
NEXT_PUBLIC_FRONTEND_ID=frontend-a

# Enable demo/fallback mode for development
NEXT_PUBLIC_ENABLE_DEMO_FALLBACK=false

# VAPID public key for web push notifications
NEXT_PUBLIC_VAPID_PUBLIC_KEY=your_vapid_public_key

# ==============================================================================
# ANALYTICS & MONITORING
# ==============================================================================

# Google Analytics 4 Measurement ID
VITE_GA_MEASUREMENT_ID=G-XXXXXXXXXX

# API base URL for external monitoring services
API_BASE_URL=https://api.yourdomain.com

# ==============================================================================
# END OF CONFIGURATION
# ==============================================================================
#
# SECURITY CHECKLIST BEFORE DEPLOYMENT:
# 
# ✓ All SECRET values are unique random strings (min 32 chars)
# ✓ DATABASE_URL points to production database with strong password
# ✓ ALLOWED_ORIGINS includes only your actual domains
# ✓ All API keys are from production accounts (not test/sandbox)
# ✓ .env file is added to .gitignore
# ✓ Sensitive credentials are stored in secure secret management
# ✓ Redis URL points to production Redis instance
# ✓ All OAuth redirect URIs match your production domains
# ✓ Bank account information is correct and verified
# ✓ Email and SMS services are configured with production accounts
#
# ==============================================================================
